<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_advancedtagsprefixes_front_widgets extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '219a465162417b884b4278d1aeb82cb2';\n\tfunction tagCloud( $blockTitle, $tags, $searchKey=NULL, $displayMode='cloud' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( !empty( $tags )  ):\n$return .= <<<CONTENT\n\r\n\t<h3 class='ipsWidget_title ipsType_reset'>\nCONTENT;\n$return .= htmlspecialchars( $blockTitle, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/h3>\r\n\r\n\t\nCONTENT;\n\nif ( ( $displayMode == 'cloud' ) ):\n$return .= <<<CONTENT\n\r\n\t\t<div class='ipsPad_half ipsWidget_inner ipsStyle_center'>\r\n\t\t\t\nCONTENT;\n\nforeach ( $tags as $tag => $info ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t\nCONTENT;\n\n$urlEncodedTag = rawurlencode( $tag );\n$return .= <<<CONTENT\n\r\n\t\t\t\t<a href=\"\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=search&controller=search&type={$searchKey}&tags={$urlEncodedTag}\", null, \"search\", array(), 0 ) );\n$return .= <<<CONTENT\n\" title=\"\nCONTENT;\n\n$sprintf = array($tag); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'find_tagged_content', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\" style='font-size:\nCONTENT;\n\n$return .= htmlspecialchars( round(($info['scale']*225)+75), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n%;line-height:1;margin:0;' class='ipsField_yesNo ipsType_break'>\r\n\t\t\t\t\t<span>{$info['label']}<\/span>\r\n\t\t\t\t<\/a>\r\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n\t\t<\/div>\r\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n\t\t<div class='ipsPad_half ipsWidget_inner'>\r\n\t\t\t<ul class='ipsDataList ipsDataList_reducedSpacing'>\r\n\t\t\t\t\nCONTENT;\n\nforeach ( $tags as $tag => $info ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t\t\nCONTENT;\n\n$urlEncodedTag = rawurlencode( $tag );\n$return .= <<<CONTENT\n\r\n\t\t\t\t\t<li class='ipsDataItem'>\r\n\t\t\t\t\t\t<div class='ipsDataItem_main'>\r\n\t\t\t\t\t\t\t<div class=\"ipsCommentCount ipsPos_right\">\nCONTENT;\n\n$return .= htmlspecialchars( $info['count'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/div>\r\n\t\t\t\t\t\t\t<a href=\"\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=search&controller=search&type={$searchKey}&tags={$urlEncodedTag}\", null, \"search\", array(), 0 ) );\n$return .= <<<CONTENT\n\" title=\"\nCONTENT;\n\n$sprintf = array($tag); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'find_tagged_content', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\" class='ipsStep_title ipsType_break'>\r\n\t\t\t\t\t\t\t\t<span>{$info['label']}<\/span>\r\n\t\t\t\t\t\t\t<\/a>\r\n\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<\/li>\r\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n\t\t\t<\/ul>\r\n\t\t<\/div>\r\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
