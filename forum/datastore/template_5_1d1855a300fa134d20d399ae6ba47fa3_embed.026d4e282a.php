<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_core_global_embed extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '3dacef5fddab929d92bff01b2d956308';\n\tfunction embedNoPermission(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div data-embedInfo-maxSize='500' class='ipsRichEmbed'>\n\t<div class='ipsType_center ipsType_light ipsPad'>\n\t\t<i class='fa fa-frown-o ipsType_veryLarge ipsType_light'><\/i>\n\t\t<p class='ipsType_reset ipsType_normal ipsPad'>\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'embed_no_perm_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'embed_no_perm_desc_log_in', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/p>\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction embedUnavailable(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div data-embedInfo-maxSize='500' class='ipsRichEmbed'>\n\t<div class='ipsType_center ipsType_light ipsPad'>\n\t\t<i class='fa fa-frown-o ipsType_veryLarge ipsType_light'><\/i>\n\t\t<p class='ipsType_reset ipsType_normal ipsPad'>\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'embed_unavailable_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t<\/p>\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction gfycat( $key ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<script type='text\/javascript' src='https:\/\/assets.gfycat.com\/gfycat.js'><\/script>\n<img class=\"gfyitem\" data-id=\"\nCONTENT;\n$return .= htmlspecialchars( $key, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \/>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction google( $url ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<script type='text\/javascript' src='https:\/\/apis.google.com\/js\/plusone.js'><\/script>\n<div class='g-post' data-href='\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><a href='\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' target='_blank' rel='noopener'>\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction googleMaps( $q, $mapType, $zoom = NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsEmbeddedOther' contenteditable=\"false\">\n\t<iframe height=\"450\"\n\t\nCONTENT;\n\nif ( $mapType == 'place' ):\n$return .= <<<CONTENT\n\n\t\tsrc=\"https:\/\/www.google.com\/maps\/embed\/v1\/place?key=\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->google_maps_api_key;\n$return .= <<<CONTENT\n&q=\nCONTENT;\n$return .= htmlspecialchars( $q, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\n\t\nCONTENT;\n\nelseif ( $mapType == 'dir' ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( isset( $q['waypoints'] ) ):\n$return .= <<<CONTENT\n\n\t\t\tsrc=\"https:\/\/www.google.com\/maps\/embed\/v1\/directions?key=\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->google_maps_api_key;\n$return .= <<<CONTENT\n&origin=\nCONTENT;\n$return .= htmlspecialchars( $q['origin'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n&waypoints=\nCONTENT;\n$return .= htmlspecialchars( $q['waypoints'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n&destination=\nCONTENT;\n$return .= htmlspecialchars( $q['destination'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\tsrc=\"https:\/\/www.google.com\/maps\/embed\/v1\/directions?key=\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->google_maps_api_key;\n$return .= <<<CONTENT\n&origin=\nCONTENT;\n$return .= htmlspecialchars( $q['origin'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n&destination=\nCONTENT;\n$return .= htmlspecialchars( $q['destination'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nelseif ( $mapType == 'search' ):\n$return .= <<<CONTENT\n\n\t\tsrc=\"https:\/\/www.google.com\/maps\/embed\/v1\/search?key=\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->google_maps_api_key;\n$return .= <<<CONTENT\n&q=\nCONTENT;\n$return .= htmlspecialchars( $q, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\n\t\nCONTENT;\n\nelseif ( $mapType =='coordinates' ):\n$return .= <<<CONTENT\n\n\t\tsrc=\"https:\/\/www.google.com\/maps\/embed\/v1\/view?key=\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->google_maps_api_key;\n$return .= <<<CONTENT\n&center=\nCONTENT;\n$return .= htmlspecialchars( $q, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n&zoom=\nCONTENT;\n$return .= htmlspecialchars( $zoom, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t<\/iframe>\n<\/div>\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction iframe( $url, $width=NULL, $height=NULL, $embedId=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsEmbeddedOther' contenteditable=\"false\">\n\t<iframe src=\"{$url}\" data-controller=\"core.front.core.autosizeiframe\" \nCONTENT;\n\nif ( $embedId ):\n$return .= <<<CONTENT\ndata-embedId='\nCONTENT;\n$return .= htmlspecialchars( $embedId, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n allowfullscreen=''><\/iframe>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction link( $url, $title ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<a href='\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' target='_blank' rel='noopener'>\nCONTENT;\n$return .= htmlspecialchars( $title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction photo( $imageUrl, $linkUrl=NULL, $title=NULL, $width=NULL, $height=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $linkUrl ):\n$return .= <<<CONTENT\n<a href='\nCONTENT;\n$return .= htmlspecialchars( $linkUrl, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' target='_blank' rel='noopener'>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    <img src='\nCONTENT;\n$return .= htmlspecialchars( $imageUrl, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' alt='\nCONTENT;\n$return .= htmlspecialchars( $title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsImage' \nCONTENT;\n\nif ( $width ):\n$return .= <<<CONTENT\nwidth=\"\nCONTENT;\n$return .= htmlspecialchars( $width, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \nCONTENT;\n\nif ( $height ):\n$return .= <<<CONTENT\nheight=\"\nCONTENT;\n$return .= htmlspecialchars( $height, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\nCONTENT;\n\nif ( $linkUrl ):\n$return .= <<<CONTENT\n<\/a>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction twitch( $type, $source ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsEmbeddedOther' contenteditable=\"false\">\n\t<iframe\n\t\tsrc=\"https:\/\/player.twitch.tv\/?\nCONTENT;\n$return .= htmlspecialchars( $type, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n=\nCONTENT;\n\nif ( $type == 'video' ):\n$return .= <<<CONTENT\nv\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $source, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n&autoplay=false\"\n\t\theight=\"450\"\n\t\twidth=\"300\"\n\t\tframeborder=\"0\"\n\t\tscrolling=\"false\"\n\t\tallowfullscreen=\"true\">\n\t<\/iframe>\n<\/div>\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction video( $html ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsEmbeddedVideo' contenteditable=\"false\"><div>{$html}<\/div><\/div>\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
